<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üç∑ Stube‚Äôs Studio</title>
<style>
    body {
        background: #000;
        font-family: Arial, sans-serif;
        color: #ffd700;
        margin: 0;
        padding: 0;
        text-align: center;
    }
    h1 {
        font-size: 26px;
        margin-top: 15px;
        font-weight: bold;
    }
    .drink {
        border: 2px solid #ffd700;
        padding: 10px;
        margin: 12px;
        border-radius: 10px;
        font-size: 16px;
    }
    button {
        background: #ffd700;
        border: none;
        padding: 8px;
        border-radius: 6px;
        font-weight: bold;
        margin-top: 8px;
        font-size: 15px;
    }
    button:active { opacity: 0.6; }
    .red { color: red; font-weight: bold; }
    #ricaricaBox {
        margin-top: 22px;
        border: 2px solid #ffd700;
        padding: 12px;
        border-radius: 12px;
    }
</style>
</head>
<body>

<h1>üç∑ Stube‚Äôs Studio</h1>

<div id="totSpesa">Soldi spesi: 0‚Ç¨</div>

<!-- Monster -->
<div class="drink">
    <h2>Monster</h2>
    Rimanenti: <span id="m_ml">0</span> ml ‚Äî 
    Porzioni: <span id="m_porz">0</span>
    <br><button onclick="preleva('monster')">Preleva 500ml</button>
</div>

<!-- Fanta -->
<div class="drink">
    <h2>Fanta</h2>
    Rimanenti: <span id="f_ml">0</span> ml ‚Äî 
    Porzioni: <span id="f_porz">0</span>
    <br><button onclick="preleva('fanta')">Preleva 330ml</button>
</div>

<!-- Succoso -->
<div class="drink">
    <h2>Succoso</h2>
    Rimanenti: <span id="s_ml">0</span> ml ‚Äî 
    Porzioni: <span id="s_porz">0</span>
    <br><button onclick="preleva('succoso')">Preleva 900ml</button>
</div>

<!-- Lemonsoda -->
<div class="drink">
    <h2>Lemonsoda</h2>
    Rimanenti: <span id="l_ml">0</span> ml ‚Äî 
    Porzioni: <span id="l_porz">0</span>
    <br><button onclick="preleva('lemonsoda')">Preleva 330ml</button>
</div>

<!-- Ricarica -->
<div id="ricaricaBox">
    <h3>Ricarica</h3>
    Codice: <input id="code" type="password" style="width:90px;">
    <br><br>
    Tipo: 
    <select id="bevanda">
        <option value="monster">Monster</option>
        <option value="fanta">Fanta</option>
        <option value="succoso">Succoso</option>
        <option value="lemonsoda">Lemonsoda</option>
    </select>
    <br><br>
    ml da aggiungere: <input id="aggiungiMl" type="number" style="width:70px;">
    <br><br>
    <button onclick="ricarica()">Aggiungi</button>
</div>

<!-- SUONO APPLE -->
<audio id="okSound" src="https://cdn.pixabay.com/download/audio/2023/03/06/audio_86cefd04e7.mp3?filename=apple-pay-success-143029.mp3"></audio>

<script>
let prezzi = { monster:1.49, fanta:0.70, succoso:1.49, lemonsoda:0.55 };
let ml_per_porz = { monster:500, fanta:330, succoso:900, lemonsoda:330 };

let ml = { monster:0, fanta:0, succoso:0, lemonsoda:0 };
let spesa = 0;

function aggiorna() {
    document.getElementById("m_ml").textContent = ml.monster;
    document.getElementById("f_ml").textContent = ml.fanta;
    document.getElementById("s_ml").textContent = ml.succoso;
    document.getElementById("l_ml").textContent = ml.lemonsoda;

    document.getElementById("m_porz").textContent = Math.floor(ml.monster / 500);
    document.getElementById("f_porz").textContent = Math.floor(ml.fanta / 330);
    document.getElementById("s_porz").textContent = Math.floor(ml.succoso / 900);
    document.getElementById("l_porz").textContent = Math.floor(ml.lemonsoda / 330);

    // rosso quando 0 porzioni
    document.getElementById("m_porz").style.color = (Math.floor(ml.monster / 500) == 0) ? "red" : "#ffd700";
    document.getElementById("f_porz").style.color = (Math.floor(ml.fanta / 330) == 0) ? "red" : "#ffd700";
    document.getElementById("s_porz").style.color = (Math.floor(ml.succoso / 900) == 0) ? "red" : "#ffd700";
    document.getElementById("l_porz").style.color = (Math.floor(ml.lemonsoda / 330) == 0) ? "red" : "#ffd700";

    document.getElementById("totSpesa").textContent = "Soldi spesi: " + spesa.toFixed(2) + "‚Ç¨";
}

function preleva(tipo) {
    if (ml[tipo] >= ml_per_porz[tipo]) {
        ml[tipo] -= ml_per_porz[tipo];
        document.getElementById("okSound").play();
        aggiorna();
    }
}

function ricarica() {
    if (document.getElementById("code").value !== "SonoilBoss") return;
    let tipo = document.getElementById("bevanda").value;
    let x = parseInt(document.getElementById("aggiungiMl").value);
    if (!x || x <= 0) return;
    ml[tipo] += x;
    spesa -= (prezzi[tipo] * (x / ml_per_porz[tipo])); // soldi possono andare in meno
    aggiorna();
}
aggiorna();
</script>

</body>
</html>
